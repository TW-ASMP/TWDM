title: item
$id: .IBM_Maximo_object/item
$schema: 'http://json-schema.org/draft-07/schema'
type: object

properties:

  #========================
  
  item ID:
    type: string 
    description: 
      A read-only UUID, generated by the system, to uniquely identify the item.
    $comment: |
      UUID instead of a simple serial used with the consideration that we may in the future incorporate items defined outside of Toronto Water.

  #========================
  
  item name:
    type: string 
    description: The human readable short description of the item.
    TW_rule:
      - name: Item Naming
        id: VkYgCtRPlx
        type: implication
        description: | #description gives a rule in text or pseudocode.
          if: itemX.properties."item type" = "defined application generic"
          then:  
            itemX.properties."item name" value is the semi-colon ("; ") delimited concatenation of the following property values:
              - properties."item class".properties."class name"
              - properties."generic item application definition"
          elif: itemX.properties."item type" = "commercial product"
          then: 
            itemX.properties."item name" value is the semi-colon ("; ") delimited concatenation of the following property values:
              - properties."item class".properties."class name"
              - properties."manufacturer".properties."company name"
              - properties."commercial product and model name"
        rule implementation status: false 
  
  #========================
  
  item class:
    $ref: .objectDefs/assetItemClassificationObject
    description: This is a value from the item classification, which is a superset of the asset class.
    
  #========================
  
  rotating item:
    type: boolean
    TW_rule:
      - name: Only commercial product items may be rotating
        id: N1In7mAPxx
        type: validation
        description: |
          []
        rule implementation status: false
      - name: A commercial product item above a dollar-value will be rotating by default
        id: 41aHN7CDgl
        type: validation
        description: |
          []
        rule implementation status: false
    $comment: Maximo out of the box option.

  #========================
  
  item master type:
    type: string
    description: indicate whether the item is defined generically in terms of its function or specifically in terms of a commercial product.
    enum:
      - generic or commodity item  # e.g., window cleaning solution
      - specific commercial product item
    TW_rule:
      - name: restrict the issuance of generic item
        id: 4yDfkRcvlg
        description: |
    $comment: |
      A generic item appropriate for a certain application is a "defined application generic" item. 
  
  #========================
  # description of generic or commodity item
  
  description of generic or commodity item:
    type: string
    description: For example, 14' 165/55R14 winter tire, or electrical feeder protection relay
  
  #========================
  # specification of a commercial product item

  product is instance of generic item(s):
    oneOf: [type: null, $ref: .objectDefs/item]
    description: 

  product manufacturer company:
    oneOf: [type: null, $ref: .objectDefs/company]
    description: For example, "GE Vernova"

  product model (and sub-model) description:
    type: string
    description: For example, "Multilin 869"
    $comment: 
  
  model year or product version designator:
    oneOf: [type: null, type: string]
    description: Identifies the specific version of the product model. For example "v2" or "2023"
  
  product configuration code:
    oneOf: [type: null, type: string]
    description: For example, "P5-G1-S1-LO-A1-R-E-H"

  manufacturer part number:
    oneOf: [type: null, type: string]
    type: string

  exact same product as:
    oneOf: [type: null, type: array]
    items:
      oneOf: [type: null, $ref: .objectDefs/item]
    description: |
      Identifies the same commercial product item made by the same manufacturer, but differing only in item unit format. For example, the 208-litre drum item and the 5-litre bottle item of Penzoil 5W30 Synthetic Lubricant. 
    TW_rule:
      - name: Infer Symmetrical Equivalence between Product Items
        id: EJCnUukuex
        type: inference
        description: ""
        rule implementation status: to be specified

  #========================

  item unit format description:
    type: string
    description: A description of each unit of the product, regardless of the grouping / bundle For example, "80 ml can".

  issue unit:
    type: string
    $comment: "To implemeneter: use the out of the box list from Maximo"

  
#############################################################
# 3. MINOR OBJECT DEFINITION
#############################################################

definitions:
  vendor and ordering information:
    type: object
    properties:
      #========================
      vendor company:
        type: .objectDefs/company
      
      #========================
      order unit:
        type: string
        $comment: "To implemeneter: use the out of the box list from Maximo"
      
      #========================
      vendor SKU:
        type: string

    required: [vendor company, vendor SKU]


  required: 
    "model or commercial product name"
  oneOf:
    - required: "maker of model or commercial product"
    - required: "parent model or commercial product"
    
  
  # 6/25: [] we need to add another field for lead time. This will contribute to the dynamic calculation of criticality among other uses. 
  # [] also need to reflect the generic item classes - items used for a certain application