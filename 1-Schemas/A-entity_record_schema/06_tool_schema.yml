title: tool item master
$id: toolObject
$schema: 'http://json-schema.org/draft-07/schema'
type: object

$comment: ASMP does not expect the tool item master to be widely used during the initial adoption of Maximo - we expect that most tools would initially be represented as un-stocked.  

properties: 
  tool ID:
    type: string 
    description: 
      A read-only UUID, generated by the system, to uniquely identify the tool.
    $comment: |
      UUID instead of a simple serial used with the consideration that we may in the future incorporate items defined outside of TW.
  
  #========================
  
  tool name:
    type: string 
    description: The human readable short description of the tool.
    TW_rule:
      - name: tool master name
        id: VJpSzGxdxg
        type: implication
        specification: |
          if: toolX.properties."tool master type" = "generic tool"
          then:  
            toolX.properties."tool name" value is the semi-colon ("; ") delimited concatenation of the following property values:
              - properties."tool class".properties."class name"
              - properties."generic tool application definition"
          elif: toolX.properties."tool type" = "specific commercial product"
          then: 
            toolX.properties."tool name" value is the semi-colon ("; ") delimited concatenation of the following property values:
              - properties."tool master class".properties."class name"
              - properties."product manufacturer company".properties."company name"
              - properties."product model (and sub-model) description"
              - properties."model year or product version designator"
              - properties."product configuration code"
        status: specified

  #========================

  tool class:
    $ref: assetObjectItemClassificationObject
    description: This is a value from the tool classification, which is a superset of the asset class.
    TW_rule:
    - name: Tool classification list does not include parts non tools
      id: V1ulHHWOgx
      specification: |
        Tool classification list include all class instances of assetItemToolClassObject, except ones whose properties."tool" value is FALSE
      status: specified

  #========================

  rotating:
    type: boolean
    description: checked with the tool is to be tracked as an individual asset
    $comment: see comments for the "rotating item" property of item schema. 

  #========================

  condition tracked:
    #[] Rule: default value for [rotating tool, condition tracked, performance tracked, failure tracked, requires calibration, records meter reading, ] should be inherited from the classification
  

  mobile tool: 
    type: boolean
    description: An tool that is used beyond a permanent installation; instead, it is taken from place to place.
    $comment: |
      #PROCESS: SET DEFAULT VALUE:
        At record creation, set value to false.
      #PROCESS: EVENT-DRIVEN VALUE CHANGE:
        Upon the event of a properties."asset class" value change;  
          if properties."asset class".properties."mobile tool" = true;
          then set the value to true;
          else set the value to false.
      
  
  #========================
  
  generic or specific:
    type: string
    description: indicate whether the tool is defined generically in terms of its function or specifically in term of its product detail.
    enum:
      - generic tool  # e.g., HV hotstick
      - specific commercial product
    $comment: |
      A generic item appropriate for a certain application is a "defined application generic" item. 
  
  #========================
  # description of generic or commodity item
  
  description of generic tool:
    type: string
    description: For example, "600 V, 2 MVA, mobile generator"
  
  #========================
  
  product manufacturer company:
    oneOf: [type: null, $ref: companyObject]
    description: For example, "Generac"

  product model (and sub-model) description:
    type: string
    description: For example, "MMG45IF4"
    $comment: 
  
  model year or product version designator:
    oneOf: [type: null, type: string]
    description: Identifies the specific version of the product model. For example "v2" or "2023".
  
  product configuration code:
    oneOf: [type: null, type: string]
    description: Denotes the exact exact configuration, made among the options provided by the manufacturer. For example, "P5-G1-S1-LO-A1-R-E-H". 

  manufacturer part number:
    oneOf: [type: null, type: string]
    description: The manufacturer designator identifying the exact product item.

  #========================
  
  duplicate record of:
    oneOf: 
      - type: array
        items:
          $ref: toolObject
      - type: null
  
  #========================

  allOf:
    - $ref: genericEntityObject