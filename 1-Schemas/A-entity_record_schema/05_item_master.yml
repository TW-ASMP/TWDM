---
$schema: "http://json-schema.org/draft-07/schema#"
title: item master
$id: https://raw.githubusercontent.com/TW-ASMP/TWmaximoConfig/main/1-Schemas/A-entity_record_schema/05_item_master_schema.yml
type: object

properties:
  
  item ID:

    type: string
    description: 
      A read-only UUID, generated by the system, to uniquely identify the item.
    $comment: |
      UUID instead of a simple serial used with the consideration that we may in the future incorporate items defined outside of TW.
  
  #========================
  
  item name:

    type: string
    description: The human readable short description of the item.
    
    TW_rule:
    
      - name: item master record naming
        id: VkYgCtRPlx
        type: assertion
        specification: |
          if (item_x.properties."generic or specific product") = "generic", then  
            the value of (item_x.properties."item name") would be the semi-colon ("; ") delimited concatenation of the following property values:
              - properties."item class".properties."class name"
              - properties."description of generic"
          elif: (item_x.properties."generic or specific product" = "commercially available product"), then: 
            the value of (item_x.properties."item name") would be the semi-colon ("; ") delimited concatenation of the following property values:
              - properties."item class".properties."class name"
              - properties."product manufacturer company".properties."company name"
              - properties."product model (and sub-model) description"
              - properties."model year or product version designator"
              - properties."product configuration code"
        checked on: 2024-08-15
  
  #========================
  
  item class:

    $ref: "../B-entity_class_object_schema/01_asset_item_tool_class.yml"
    $comment: This is a value from the item classification, which is a superset of the asset class.

    TW_rule:
    
      - name: item classification list includes all classes
        id: EynXVZ-dxg
        specification: |
          Maximo item classification list would include all class instances of B-entity_class_object_schema/01_asset_item_tool_class_object_schema.yml, regardless of the values
            - properties."tool"
            - properties."only used as a part asset"
        status: specified
        checked on: 2024-08-15

  #========================
  
  rotating:

    $ref: "./101_common_definitions.yml#/definitions/rotating_item_property" # A reference to a set of properties used in multiple places (item and tool master definition)

  #========================

  generic or specific production information:

    $ref: "./101_common_definitions.yml#/definitions/generic or specific product definition" # A reference to a set of properties used in multiple places (item and tool master definition)
  
  #========================
  
  ordering information:

    oneOf:
      - type: array  # array type indicates the possibility of multiple pieces of ordering information
        items:
          $ref: "#/definitions/vendor order detail"
      - type: NULL

  #========================

  item issue unit:

    type: string
    description: A description of each indivdual unit issued for work, such as a can or roll, of the product item, regardless of the ordering unit, such as a box of 24.  For example, "80 ml can" or "27 x 500in. roll".
    $comment: "To implemeneter: use the out of the box list from Maximo"

  #========================

  duplicate record of:

    oneOf: 
      - type: array
        items:
          $ref: "./05_item_master.yml"
      - type: NULL

  #========================

  record retirement information:

    $ref: "./101_common_definitions.yml#/definitions/record retirement definition"
  

#========================
# DEFINITIONS
#========================

definitions:

  vendor order detail:

    properties:
      
      vendor company:
        
        $ref: MaximoCompanyObject
      
      #========================
      
      order unit format:
        
        oneOf:
          - type: NULL
          - type: string
        description: A description of each indivdual unit of order, such as a can or roll, of the product item, regardless of the ordering unit, such as a box of 24.  For example, "80 ml can" or "27 x 500in. roll".
        $comment: |
          For a commercial product, if there are multiple item unit formats, one item should be create for each format.
          To Implementer,
            Use Maximo's defaults
      
      #========================
      
      vendor item or SKU number:
        
        oneOf:
          - type: string
          - type: NULL
      
      #========================
      
      unit cost in CAD:
        
        type: number
        description: The expected cost of a unit of the item. (This should not be the cost of a package of multiple units of the item.) 
        $comment: To TW, in the future, this field should contain a running average of the recent purchase costs, possibly also adjusted for recent inflation.


  # 6/25: [] we need to add another field for lead time. This will contribute to the dynamic calculation of criticality among other uses. 