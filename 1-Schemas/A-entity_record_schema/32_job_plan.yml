$schema: "http://json-schema.org/draft-07/schema#"
title: Job Plan
$id: https://raw.githubusercontent.com/TW-ASMP/TWmaximoConfig/main/1-Schemas/A-entity_record_schema/32_job_plan.yml
type: object 

properties:

  job plan ID:
  
  #================

  job plan name:

  #================

  is based on:
    oneOf:
      - $ref: /A-entity_record_schema/32_job_plan.yml
      - type: NULL

  #================

  description of steps:
    $comment: If mobile is used, each step can be represented as a task.

  #================
  
  tasks:
    $comment: No emphasis to fill in now, but more necessary when we are moving to mobile, and need to be reminded what steps to following

  #================

  estimated duration (hr):

  #================

  classification:
    $ref: /1-Schemas/B-entity_class_object_schema/32_discrete_activity_class.yml


### Trigger Condition Description Group
  #=====================
  
  recommended frequency numeral:
  
  recommended frequency literal:
  
  description of trigger condition:
    
  # Resource Group
  #====================
  required tool:

  required material item:

  service contract item:

  required trade:
    required skill or license:
  
### Concrete Job Plan Spec Group
  #====================
  executed by group:
    $comment: ?? may be supervisor does not need to be specified, if it always follow the crew.

  recommended triggering frequency:


### Environment Safety Or Quality (ESQ) Requirements Group
  #====================
  ESQ requirement(s):
    oneOf: 
      - type: NULL
      - type: array
        items:
          - $ref: "#/definitions/ESQ requirement"
    $comment: |
      "[]ASMP: do we need to represent multiple ESQ requirements"
          
  highest ESQ requirement level:
    oneOf: 
      - type: NULL
      - $ref: "#/definitions/ESQ requirement type"
    

######################################################################################
# DEFINITIONS
######################################################################################
definitions:

### ESQ Group ###  
  #====================
  ESQ requirement type:
    type: string
    enum:
      - legislative
      - corporate safety policy
      - professional recommendation
  
  #====================
  ESQ requirement:
    
    #====================
    requirement name:
      type: string
      $comment: "For example, 'ANSI Z358.1-2014 on weekly inspection of self-contained emergency wash equipment'."

    #====================
    requirement type:
      $ref: "#/definitions/ESQ requirement type"

    #====================
    requirement description:
      type: string
      $comment: |
        Example Text:
        .6.3 Self-contained emergency showers shall be visually checked weekly to determine if flushing fluid needs to be changed or supplemented. Such inspection shall be conducted in accordance with manufacturer's instructions.
        5.5.3 Self-contained eyewashes shall be visually checked weekly to determine if flushing fluid needs to be changed or supplemented. Such inspection shall be conducted in accordance with manufacturer's instructions.
        6.5.3 Self-contained eye/face washes shall be visually checked weekly to determine if flushing fluid needs to be changed or supplemented. Such shall be conducted in accordance with manufacturer's instructions.
        7.5.3 Self-contained combination units shall be visually checked weekly to determine if flushing fluid needs to be changed or supplemented. Such inspection shall be conducted in accordance with manufacturer's instructions.
        8.1.3.2 All personal wash units shall be inspected and maintained in accordance with manufacturer's instructions and shall meet applicable regulatory requirements.
        8.2.4.3 Self-contained drench hoses shall be visually checked weekly to determine if flushing fluid needs to be changed or supplemented. Such inspection shall be conducted in accordance with manufacturer's instructions.

### Trigger Group ###
  #====================
  trigger condition description: 
    preposition:
    event description:


      
Notes:

$comment: |
  [] don't forget how tools need to be summed up in different ways.
  [] Intent to Exclude the default WO classes: activty, change, release, and WO from our implementation. This Maximo stock classification is poorly defined (too much overlap)
  [] It is perhaps just as important to specify when we will not use.