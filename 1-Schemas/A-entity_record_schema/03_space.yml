---
$schema: "http://json-schema.org/draft-07/schema#"
title: space
$id: https://raw.githubusercontent.com/TW-ASMP/TWmaximoConfig/main/1-Schemas/A-entity_record_schema/03_space.yml
type: object

properties:
  
  space ID:
    type: string
    description: An unique ID
    $comment: In the future, this value should be validated with a regular expression.

  #========================

  parent space:
    $ref: "./03_space.yml"
    description: The larger space that completely contains this space.

  #========================
  
  space name:
    type: string
    description: Short name. Should be one that is commonly use by staff in communication. For example, "boardroom"

  #========================

  complete hierarchal space name:
    type: string
    updated_by_system: true
    TW_rule:
      - $id: 
        name: complete space name generation
        id: N1pxv1-_gg
        status:
    $comment: |
      Automatically generated by the system and not editable. The value is space name to that of its parent space, its grandparent space ... all the way up that facility space. 

  #========================

  enclosed by the asset:
    oneOf: [$ref: "./01_asset.yml", type: null]
    description: indicates that the space is what is enclosed by (and immediately surrounding) the asset, such as a 
      - building, 
      - structural tank, 
      - equipment cabinet,
      - vehicle

  #========================

  space of storeroom:
    oneOf: [$ref: MX_storeroomObject, type: null]
    description: a value indicates that this space is the interior of a designated storage room or area, represented in Maximo by the storeroom object. 

  #========================

  space classification:
    $ref: spaceClassObject
    $comment: |
      see space_classification.md file

  #========================

  inferred_classes:
    oneOf: 
      - type: array
        items:
          type: string
      - type: null
    updated_by_system: TRUE
    description: See the description for inferred classe names(s) made in the \TWmaximoConfig\1-Schemas\A-entity_record_schema/01_asset_schema.yml
    $comment: |
      See the comment for inferred classe names(s) made in the \TWmaximoConfig\1-Schemas\A-entity_record_schema/01_asset_schema.yml
      
      #[]REQ 41Vru1Rrxe: This data field should be visible to the users, but should not be editable by the user

  #========================

  service_address_or_coordinate: 
    oneOf: [$ref: .IBM_Maximo_object/MaximoServiceAddressObject, type: null]
    $comment: this is referencing Maximo's native service address object

  #========================

  status:
    type: string
    enum:
      - specifed
      - realized
      - eliminated
    $comment: |
      This field allows the user to specify whether the space is merely specified, or whether the boundary enclosing the space have been contructed (or alternatively, the fiat property / or area boundary around is formally established and approved.) - i.e. "exists".
      Note that an "eliminated" space should be removed from the hierarchy, and should not be visible for users conducting maintenance, reliability, planning and scheduling functions.
      The term "eliminated" is chosen to indicate that space disappear by the fact that object bound or defined the space, such as wall, ceilings, or property lines are removed. 


  #========================

  confined space:
    type: boolean

  #========================
  inherit hazardous property values:
    type: boolean
    default_value: true

  hazardous location class:
    type: string
    enum:
      - I
      - II
      - III

  
  hazardous location division:
    type: string
    enum:
      - 1
      - 2


  hazardous location group:
    type: string
    enum:
      - A
      - B
      - C
      - D
      - E
      - F
      - G


  #========================

  duplicate record of:
    oneOf: 
      - type: array
        items:
          $ref: "./03_space.yml"
      - type: null
  
  #========================

  record retirement information:
    $ref: "./00_common_definitions.yml#/definitions/record retirement definition"
  