---
$schema: "http://json-schema.org/draft-07/schema#"
title: tool item master
$id: https://raw.githubusercontent.com/TW-ASMP/TWmaximoConfig/main/1-Schemas/A-entity_record_schema/06_tool_master_schema.yml
type: object

properties: 
  
  ID:
  
    type: string 
    description: 
      A read-only UUID, generated by the system, to uniquely identify the tool.
    $comment: |
      UUID instead of a simple serial used with the consideration that we may in the future incorporate items defined outside of TW.
  
  #========================
  
  name:
  
    type: string 
    description: The human readable short description of the tool.
    rule_spec:
      - name: tool master name
        spec_ID: VJpSzGxdxg
        type: implication
        specification: |
          if: toolX.properties."tool master type" = "generic tool"
          then:  
            toolX.properties."tool name" value is the semi-colon ("; ") delimited concatenation of the following property values:
              - properties.class.properties."class name"
              - properties."generic tool application definition"
          elif: toolX.properties."tool type" = "specific commercial product"
          then: 
            toolX.properties."tool name" value is the semi-colon ("; ") delimited concatenation of the following property values:
              - properties."tool master class".properties."class name"
              - properties.product manufacturer company.properties."company name"
              - properties.model_and_sub-model
              - properties.version_or_model_year
              - properties.product configuration code
        status: specified

  #========================

  class:
  
    $ref: "../B-entity_class_object_schema/01_asset_item_tool_class.yml"
    description: This is a value from the classification, which is a superset of the asset class.

    rule_spec:
      - name: Tool classification list does not include parts non tools
        spec_ID: V1ulHHWOgx
        specification: |
          Tool classification list include all class instances of B-entity_class_object_schema/01_asset_item_tool_class_object_schema.yml, except ones whose .properties.tool value is FALSE
        status: specified

  class_dependent_specifications:

    type: object
    description: is a set of properties applicable to the class. 


# INVENTORY MANAGEMENT FLAGS
  #========================
          
  rotating:
    
    $ref: "./00_common_definitions.yml#/definitions/rotating_property_def" 

  #========================

  mobile: 

    type: boolean
    description: An tool that is used beyond a permanent installation; instead, it is taken from place to place.
    $comment: |
      #PROCESS: SET DEFAULT VALUE:
        At record creation, set value to false.
      #PROCESS: EVENT-DRIVEN VALUE CHANGE:
        Upon the event of a properties.class value change;  
          if properties.class.properties."mobile" = true;
          then set the value to true;
          else set the value to false.



$comment: ASMP does not expect the tool item master to be widely used during the initial adoption of Maximo - we expect that most tools would initially be represented as un-stocked.  