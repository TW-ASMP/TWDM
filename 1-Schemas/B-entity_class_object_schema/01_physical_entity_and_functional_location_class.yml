---
$schema: "http://json-schema.org/draft-07/schema#"
$id: https://raw.githubusercontent.com/TW-ASMP/TWDM/main/1-Schemas/B-entity_class_object_schema/01_physical_entity_and_functional_location_class.yml
type: object

# This set of properties are used in all classification objects (e.g., asset, org-chart group, etc.)

properties:

  common_class_property_definition:
    $ref: "./00_re-used_class_property_definitions.yml/common_class_property_definition"

  failure_class:
    description: indicates the failure class that applies to every instance of this class
    oneOf:
      - type: null
      - $ref: MaximoFailureClass

# PHYSICAL ENTITY

  for_items_only:
    description: indicate that the class cannot be used to classify an asset of functional location (only items or tools). 
    type: boolean
    default_value: false

# FUNCTIONAL LOCATION
  
  for_functional_location_only:
    description: indicate that the class can only be used to classify a functional location
    type: boolean
    default_value: false
  
RULE_SPEC:

  - name: a class cannot be simultaneously applicable exclusively to items and functional locations
    spec_ID: 01K2J41KWACR2RY5V0GYMFAW0P
    involves_prop: [for_items_only, for_functional_location_only]
    type: [validation] 
    specification: 
      for a class, class_x
      NOT (
            class_x.for_items_only = true
            class_x.for_functional_location_only = true
          )
      