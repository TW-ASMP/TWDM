---
$schema: "http://json-schema.org/draft-07/schema#"
title: generic class object
$id: https://raw.githubusercontent.com/TW-ASMP/TWDM/main/1-Schemas/B-entity_class_object_schema/00_class_object_definition.yml
type: object

# This set of properties are used in all classification objects (e.g., asset, org-chart group, etc.)

properties:

  class_name:
    type: string
    description: a noun or short noun-phrase name of the class
  
  parent_class:
    $ref: B-entity_class_object_schema/00_class_definitions.yml
    sort order: 1-30

  class_description:
    oneOf:
      - type: null
      - type: string

  synonym_names:
    oneOf: 
      - type: null
      - type: array
        items:
          type: string
    description: other synonymous names that may be used by a user in search 

  can_be_applied_to_instances:
    type: boolean
    $comment: |
      a "FALSE" value indicates that the class is meant to be a structural part of the classification tree, and cannot be used to classify any entity (i.e. asset, functional-location, physical-location, etc).
  
  oneOf:
    - $ref: "#/$defs/asset_class_schema_addon"
    - $ref: "#/$defs/functional_location_class_schema_addon"
  
  duplicate_record_of:
    P3_MVP: true
    $ref: "./00_common_definitions.yml#/definitions/duplicate_record_def"

  record_retirement_information:
    P3_MVP: true
    $ref: "./00_common_definitions.yml#/definitions/record_retirement_def"

$defs:
  
  asset_class_schema_addon:

    only_used_as_a_part:
      oneOf: 
        - type: boolean
        - type: null
      description: A true value indicates that all instances of this class is always used as a part of another asset, and would never be given an asset tag. E.g., bearing.
      RULE_SPEC:
        - name: Do not include only_used_as_a_part in the asset classification  
          spec_ID: NJ1E1ZbOgg
          status: TBS
      $comment: A false or null value materially mean the same thing. 

    defined_class:
      oneOf: 
        - type: boolean
        - type: null
      description: Indicates a class that is only applicable when certain conditions of operating context and specifications are met.

  functional_location_class_schema_addon:

    functional_location_type:
      type: string
      description:
      enum:
        - discrete asset functional location
        - system or structure functional location
        - collection of functional locations

    compatible_asset_occupant_classes:
      oneOf: 
        - type: array
          items:
            $ref: "./01_asset.yml"
        - type: null
      $comment: |
        []RULE NJQ6BwsVee: A asset must be an instance of one of classes listed in this field to be allowed to occupy a functional-location under this class. 




